"use strict";const setManpowerRequestTimeline=(e,t)=>{let a=[];const i=t.request_status,n=t.rejected_at,s=t.created_at,m=t.manpower_request_by,o=formatName("F M. L, S",{firstName:m.first_name,middleName:m.middle_name,lastName:m.last_name,suffixName:m.suffix_name});a.push({icon:"edit",iconTheme:"info",dateTime:s,timelineTitle:"Created",timelineBody:`\n            <div class="small mb-3">This request has been created by <b>${o}</b></div>\n            ${TEMPLATE.SUBTEXT(formatDateTime(s,"Full Date"))}\n            ${TEMPLATE.SUBTEXT(formatDateTime(s,"Time"))}\n        `});const r=t.signed_at;if(isEmptyOrNull(r)){if("Rejected for signing"===i){const e=t.manpower_request_rejected_by,i=formatName("F M. L, S",{firstName:e.first_name,middleName:e.middle_name,lastName:e.last_name,suffixName:e.suffix_name});a.push({icon:"times",iconTheme:"danger",dateTime:n,timelineTitle:"Rejected",timelineBody:`\n                <div class="small mb-3">This request has been rejected for signing by <b>${i}</b></div>\n                ${TEMPLATE.SUBTEXT(formatDateTime(n,"Full Date"))}\n                ${TEMPLATE.SUBTEXT(formatDateTime(n,"Time"))}\n            `})}}else{const e=t.manpower_request_signed_by,i=formatName("F M. L, S",{firstName:e.first_name,middleName:e.middle_name,lastName:e.last_name,suffixName:e.suffix_name});a.push({icon:"file-signature",iconTheme:"primary",dateTime:r,timelineTitle:"Signed",timelineBody:`\n                <div class="small mb-3">This request has been signed by <b>${i}</b></div>\n                ${TEMPLATE.SUBTEXT(formatDateTime(r,"Full Date"))}\n                ${TEMPLATE.SUBTEXT(formatDateTime(r,"Time"))}\n            `})}const l=t.reviewed_at;if(isEmptyOrNull(l)){if("Rejected for approval"===i){const e=t.manpower_request_rejected_by,i=formatName("F M. L, S",{firstName:e.first_name,middleName:e.middle_name,lastName:e.last_name,suffixName:e.suffix_name});a.push({icon:"times",iconTheme:"danger",dateTime:n,timelineTitle:"Rejected",timelineBody:`\n                <div class="small mb-3">This request has been rejected for approval by <b>${i}</b></div>\n                ${TEMPLATE.SUBTEXT(formatDateTime(n,"Full Date"))}\n                ${TEMPLATE.SUBTEXT(formatDateTime(n,"Time"))}\n            `})}}else{const e=t.manpower_request_reviewed_by,i=formatName("F M. L, S",{firstName:e.first_name,middleName:e.middle_name,lastName:e.last_name,suffixName:e.suffix_name});a.push({icon:"thumbs-up",iconTheme:"success",dateTime:l,timelineTitle:"Approved",timelineBody:`\n                <div class="small mb-3">This request has been reviewed and approved by <b>${i}</b></div>\n                ${TEMPLATE.SUBTEXT(formatDateTime(l,"Full Date"))}\n                ${TEMPLATE.SUBTEXT(formatDateTime(l,"Time"))}\n            `})}const T=t.completed_at;isEmptyOrNull(T)||a.push({icon:"check",iconTheme:"info",dateTime:T,timelineTitle:"Completed",timelineBody:`\n                <div class="small mb-3">This request had been marked as completed</b></div>\n                ${TEMPLATE.SUBTEXT(formatDateTime(T,"Full Date"))}\n                ${TEMPLATE.SUBTEXT(formatDateTime(T,"Time"))}\n            `}),setTimeline(e,{title:"Manpower Request Timeline",timelineData:a})},setApplicantTimeline=(e,t)=>{let a=[];const i=t.created_at,n=formatName("F M. L, S",{firstName:t.first_name,middleName:t.middle_name,lastName:t.last_name,suffixName:t.suffix_name});a.push({icon:"file-export",iconTheme:"primary",dateTime:i,timelineTitle:"Applied",timelineBody:`\n            <div class="small mb-3">Application was submitted by <b>${n}</b></div>\n            ${TEMPLATE.SUBTEXT(formatDateTime(i,"Full Date"))}\n            ${TEMPLATE.SUBTEXT(formatDateTime(i,"Time"))}\n        `});const s=t.evaluated_at,m=t.evaluation_done_by;if(!isEmptyOrNull(s)&&!isEmptyOrNull(m)){const e=formatName("F M. L, S",{firstName:m.first_name,middleName:m.middle_name,lastName:m.last_name,suffixName:m.suffix_name});a.push({icon:"check",iconTheme:"success",dateTime:s,timelineTitle:"Evaluated",timelineBody:`\n                <div class="small mb-3">Evaluation was done by <b>${e}</b></div>\n                ${TEMPLATE.SUBTEXT(formatDateTime(s,"Full Date"))}\n                ${TEMPLATE.SUBTEXT(formatDateTime(s,"Time"))}\n            `})}const o=t.screened_at,r=t.screening_done_by;if(!isEmptyOrNull(o)&&!isEmptyOrNull(r)){const e=formatName("F M. L, S",{firstName:r.first_name,middleName:r.middle_name,lastName:r.last_name,suffixName:r.suffix_name});a.push({icon:"check",iconTheme:"warning",dateTime:o,timelineTitle:"Screened",timelineBody:`\n                <div class="small mb-3">Screening was done by <b>${e}</b></div>\n                ${TEMPLATE.SUBTEXT(formatDateTime(o,"Full Date"))}\n                ${TEMPLATE.SUBTEXT(formatDateTime(o,"Time"))}\n            `})}const l=t.hired_at,T=t.hiring_done_by;if(!isEmptyOrNull(l)&&!isEmptyOrNull(T)){const e=formatName("F M. L, S",{firstName:T.first_name,middleName:T.middle_name,lastName:T.last_name,suffixName:T.suffix_name});a.push({icon:"handshake",iconTheme:"success",dateTime:l,timelineTitle:"Hired",timelineBody:`\n                <div class="small mb-3">Hiring was done by <b>${e}</b></div>\n                ${TEMPLATE.SUBTEXT(formatDateTime(l,"Full Date"))}\n                ${TEMPLATE.SUBTEXT(formatDateTime(l,"Time"))}\n            `})}const d=t.status;if("Rejected from evaluation"===d||"Rejected from screening"===d||"Rejected from interview"===d){const e=t.rejected_at,i=t.rejection_done_by;if(!isEmptyOrNull(e)&&!isEmptyOrNull(i)){const n=formatName("F M. L, S",{firstName:i.first_name,middleName:i.middle_name,lastName:i.last_name,suffixName:i.suffix_name});a.push({icon:"times",iconTheme:"danger",dateTime:e,timelineTitle:d,timelineBody:`\n                    <div class="small mb-1">Applicant was ${d.toLowerCase()} by <b>${n}</b></div>\n                    <div class="small mb-3"><span class="text-danger font-weight-bold mr-1">Remarks:</span>${t.remarks}</div>\n                    ${TEMPLATE.SUBTEXT(formatDateTime(e,"Full Date"))}\n                    ${TEMPLATE.SUBTEXT(formatDateTime(e,"Time"))}\n                `})}}setTimeline(e,{title:"Applicant Timeline",timelineData:a})},setJobPostTimeline=(e,t)=>{let a=[];const i=t.job_posted_by,n=formatName("F M. L, S",{firstName:i.first_name,middleName:i.middle_name,lastName:i.last_name,suffixName:i.suffix_name}),s=t.created_at;a.push({icon:"edit",iconTheme:"info",dateTime:s,timelineTitle:"Created",timelineBody:`\n            <div class="small mb-3">You, <span class="font-weight-bold">${n}</span>, created this job post</div>\n            ${TEMPLATE.SUBTEXT(formatDateTime(s,"Full Date"))}\n            ${TEMPLATE.SUBTEXT(formatDateTime(s,"Time"))}\n        `});const m=t.updated_at;a.push({icon:"edit",iconTheme:"info",dateTime:m,timelineTitle:"Last Updated",timelineBody:`\n            <div class="small mb-3">You are the last person updated this job post</div>\n            ${TEMPLATE.SUBTEXT(formatDateTime(m,"Full Date"))}\n            ${TEMPLATE.SUBTEXT(formatDateTime(m,"Time"))}\n        `}),setTimeline(e,{title:"Job Post Timeline",timelineData:a})},setOnboardingEmployeeTaskTimeline=(e,t)=>{let a=[];const i=t.created_at,n=t.onboarding_employee_task_assigned_by,s=formatName("F M. L, S",{firstName:n.first_name,middleName:n.middle_name,lastName:n.last_name,suffixName:n.suffix_name});a.push({icon:"clipboard",iconTheme:"primary",dateTime:i,timelineTitle:"Assigned",timelineBody:`\n            <div class="small mb-3">Task was created and assigned by <b>${s}</b></div>\n            ${TEMPLATE.SUBTEXT(formatDateTime(i,"Full Date"))}\n            ${TEMPLATE.SUBTEXT(formatDateTime(i,"Time"))}\n        `});const m=t.completed_at,o=t.onboarding_employee_task_completed_by;if(!isEmptyOrNull(m)&&!isEmptyOrNull(o)){const e=formatName("F M. L, S",{firstName:o.first_name,middleName:o.middle_name,lastName:o.last_name,suffixName:o.suffix_name});a.push({icon:"check",iconTheme:"success",dateTime:m,timelineTitle:"Completed",timelineBody:`\n                <div class="small mb-3">Task was completed marked by <b>${e}</b></div>\n                ${TEMPLATE.SUBTEXT(formatDateTime(m,"Full Date"))}\n                ${TEMPLATE.SUBTEXT(formatDateTime(m,"Time"))}\n            `})}setTimeline(e,{title:"Onboarding Task Timeline",timelineData:a})},setManpowerRequestDocument=e=>{const t=e.manpower_request_by,a=e.request_status;setContent("#requisitionNo",e.requisition_no),setContent("#requestorName",formatName("L, F M., S",{firstName:t.first_name,middleName:t.middle_name,lastName:t.last_name,suffixName:t.suffix_name})),setContent("#requestorDepartment",t.position.name+", "+t.position.department.name),setContent("#dateRequested",`\n        <div>${formatDateTime(e.created_at,"Date")}</div>\n        <div>${formatDateTime(e.created_at,"Time")}</div>\n    `),setContent("#deadline",()=>{const t=e.deadline;return isEmptyOrNull(t)?TEMPLATE.UNSET("No deadline has been set"):`\n                <div>${formatDateTime(t,"Date")}</div>\n                <div>${formatDateTime(t,"Time")}</div>\n            `}),setContent("#requestedPosition",e.vacant_position.name),setContent("#noOfStaffsNeeded",()=>{const t=e.staffs_needed;return`${t} new ${pluralize("staff",t)}`}),setContent("#employmentType",e.manpower_request_employment_type.name),setContent("#requestNature",e.request_nature),setContent("#suggestedSalary",()=>{const t=e.min_monthly_salary,a=e.max_monthly_salary;return isEmptyOrNull(t)&&isEmptyOrNull(a)?TEMPLATE.UNSET("No salary has been set"):`${formatCurrency(t)} - ${formatCurrency(a)}/month`}),setContent("#requestDescription",e.content),setContent("#signedBy",()=>{const t=e.manpower_request_signed_by;if("Rejected for signing"===e.request_status)return'<div class="text-danger">This request has been rejected for signing</div>';if(isEmptyOrNull(t))return TEMPLATE.UNSET("Not yet signed");{const e=formatName("L, F M., S",{firstName:t.first_name,middleName:t.middle_name,lastName:t.last_name,suffixName:t.suffix_name});return`\n                <div>${e}</div>\n                ${TEMPLATE.SUBTEXT(t.position.name+", "+t.position.department.name)}\n            `}}),setContent("#signedAt",()=>{const t=e.signed_at;return isEmptyOrNull(t)?TEMPLATE.UNSET("No status"):TEMPLATE.NOWRAP([formatDateTime(t,"Date"),formatDateTime(t,"Time")])}),setContent("#approvedBy",()=>{const t=e.manpower_request_reviewed_by;return isEmptyOrNull(t)&&"Rejected for approval"!==e.request_status&&"Rejected for signing"!==e.request_status?TEMPLATE.UNSET("Not yet approved"):()=>{if("Rejected for signing"===e.request_status)return'<div class="text-danger">This request has been rejected</div>';if("Rejected for approval"===e.request_status)return'<div class="text-danger">This request has been rejected for approval</div>';{const e=formatName("L, F M., S",{firstName:t.first_name,middleName:t.middle_name,lastName:t.last_name,suffixName:t.suffix_name});return`\n                        <div>${e}</div>\n                        ${TEMPLATE.SUBTEXT(t.position.name+", "+t.position.department.name)}\n                    `}}}),setContent("#approvedAt",()=>{const t=e.reviewed_at;return isEmptyOrNull(t)?TEMPLATE.UNSET("No status"):TEMPLATE.NOWRAP([formatDateTime(t,"Date"),formatDateTime(t,"Time")])});const i=e.completed_at;if(setContent("#completedAt",()=>isEmptyOrNull(i)?TEMPLATE.UNSET("No status"):TEMPLATE.NOWRAP([formatDateTime(i,"Date"),formatDateTime(i,"Time")])),"Completed"==a){const e=formatName("F M. L, S",{firstName:t.first_name,middleName:t.middle_name,lastName:t.last_name,suffixName:t.suffix_name});setContent("#manpowerRequestStatus",`\n            <div class="alert border-success">\n                <h5 class="text-success mb-0">This request has been completed</h5>\n                ${TEMPLATE.SUBTEXT(`Marked by: ${e}, ${t.position.name}`)}\n                ${TEMPLATE.SUBTEXT(`${formatDateTime(i,"Full DateTime")} (${fromNow(i)})`)}\n            </div>\n        `)}else if("Rejected for signing"==a||"Rejected for approval"==a){const a=e.manpower_request_rejected_by,i=formatName("F M. L, S",{firstName:a.first_name,middleName:a.middle_name,lastName:a.last_name,suffixName:a.suffix_name}),n=e.rejected_at;setContent("#manpowerRequestStatus",`\n            <div class="alert border-danger">\n                <h5 class="text-danger mb-0">This request has been ${e.request_status.toLowerCase()}</h5>\n                <div class="small text-secondary">Marked by: ${i}, ${t.position.name}</div>\n                <div class="small text-secondary">${formatDateTime(n,"Full DateTime")} (${fromNow(n)})</div>\n                <div class="mt-3">\n                    <div class="font-weight-bold">Details</div>\n                    <div class="ml-3 text-justify">${e.remarks}</div>\n                </div>\n            </div>\n        `)}else $("#manpowerRequestStatus").remove();$("#manpowerRequestDocumentLoader").remove(),showElement("#manpowerRequestDocumentContainer")},setJobPostDetails=e=>{const t=e.expiration_date;isEmptyOrNull(t)||isAfterToday(t)?setContent("#jobPostStatus",TEMPLATE.BADGE("info","On Going")):isBeforeToday(t)?setContent("#jobPostStatus",TEMPLATE.BADGE("danger","Ended")):setContent("#jobPostStatus",TEMPLATE.BADGE("warning","Last Day Today"));const a=e.manpower_request;setContent({"#postedAt":`Posted ${formatDateTime(e.created_at,"Date")}`,"#postedAtHumanized":fromNow(e.created_at),"#jobPostViews":formatNumber(e.views)+pluralize(" view",e.views),"#vacantPosition":a.vacant_position.name,"#employmentTypeForJobPost":a.employment_type,"#jobCategory":e.job_categorized_as.name});const i=a.min_monthly_salary,n=a.max_monthly_salary;isEmptyOrNull(i)&&isEmptyOrNull(n)||!e.salary_is_visible?(hideElement("#salaryRangeDisplay"),setContent("#salaryRange","")):(showElement("#salaryRangeDisplay"),setContent("#salaryRange",`${formatCurrency(i)} - ${formatCurrency(n)}`));const s=e.expiration_date;isEmptyOrNull(s)?(hideElement("#openUntilDisplay"),setContent("#openUntil","")):(showElement("#openUntilDisplay"),setContent("#openUntil",formatDateTime(s,"Full Date"))),setContent("#jobDescription",e.content),setContent("#jobPostOptions",`\n        <a class="btn btn-sm btn-secondary btn-block" target="_blank" href="${BASE_URL_WEB}careers/${jobPostID}">\n            ${TEMPLATE.ICON_LABEL("eye","View post in public portal")}\n        </a>\n        <a class="btn btn-sm btn-secondary btn-block" href="${ROUTE.WEB.H}job-posts/${jobPostID}/applicants">\n            ${TEMPLATE.ICON_LABEL("users","View applicants")}\n        </a>\n    `)},getOnboardingEmployeeTaskStatus=(e,t,a,i)=>{switch(e){case"Pending":return isAfterToday(t)&&isAfterToday(a)?TEMPLATE.BADGE("secondary",TEMPLATE.ICON_LABEL("stopwatch","Soon")):isBeforeToday(t)&&isAfterToday(a)?TEMPLATE.BADGE("warning",TEMPLATE.ICON_LABEL("exclamation-circle","Pending (Must working)")):TEMPLATE.BADGE("danger",TEMPLATE.ICON_LABEL("exclamation-triangle","Pending (Not worked)"));case"On Going":return isAfterToday(a)?TEMPLATE.BADGE("danger",TEMPLATE.ICON_LABEL("sync-alt","On Going")):TEMPLATE.BADGE("warning",TEMPLATE.ICON_LABEL("sync-alt","On Going (Must be done)"));case"Completed":return moment(i).isBefore(moment(a))?TEMPLATE.BADGE("success",TEMPLATE.ICON_LABEL("check","Completed (On Time)")):TEMPLATE.BADGE("success",TEMPLATE.ICON_LABEL("check","Completed (Late)"));default:return TEMPLATE.BADGE("light","Invalid data")}};